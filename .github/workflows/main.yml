name: First CI Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Say hello from CI
        run: echo "CI Pipeline is working for Mahesh!"

      - name: Show .NET version
        run: dotnet --version

      - name: Try dotnet build
        run: dotnet build
        continue-on-error: true

      - name: Linux basics practice
        run: |
          echo "ðŸ‘‰ Current directory:"
          pwd

          echo ""
          echo "ðŸ‘‰ Listing files in this directory:"
          ls -la

          echo ""
          echo "ðŸ‘‰ Creating a new folder called demo-folder"
          mkdir demo-folder

          echo ""
          echo "ðŸ‘‰ Creating a text file called message.txt"
          echo "Hello Mahesh from inside the Linux runner!" > message.txt

          echo ""
          echo "ðŸ‘‰ Showing the content of message.txt"
          cat message.txt

          echo ""
          echo "ðŸ‘‰ Listing files again to see demo-folder and message.txt:"
          ls -la

      - name: Linux permissions practice
        run: |
          echo "ðŸ‘‰ Creating a script file"
          echo "#!/bin/bash" > script.sh
          echo "echo 'Hello Mahesh from executable script!'" >> script.sh

          echo ""
          echo "ðŸ‘‰ Listing file permissions before chmod"
          ls -l script.sh

          echo ""
          echo "ðŸ‘‰ Adding execute permission to script.sh"
          chmod +x script.sh

          echo ""
          echo "ðŸ‘‰ Listing file permissions after chmod"
          ls -l script.sh

          echo ""
          echo "ðŸ‘‰ Running the script"
          ./script.sh

      - name: Linux processes and logs practice
        run: |
          echo "ðŸ‘‰ Checking running processes"
          ps aux | head -10

          echo ""
          echo "ðŸ‘‰ Checking memory usage"
          free -h

          echo ""
          echo "ðŸ‘‰ Checking disk usage"
          df -h

          echo ""
          echo "ðŸ‘‰ Creating a fake log file"
          echo "Line 1 - Starting application" > app.log
          echo "Line 2 - Loading modules" >> app.log
          echo "Line 3 - Connecting to database" >> app.log
          echo "Line 4 - App running..." >> app.log

          echo ""
          echo "ðŸ‘‰ Showing last 2 lines of log file using tail"
          tail -n 2 app.log



 

        



